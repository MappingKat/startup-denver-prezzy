<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="description" content="A workshop given by the NPMap team at the 2014 ASPRS workshop in Denver, Colorado.">
  <meta name="author" content="NPMap Team">
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"
  />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <link rel="shortcut icon" href="http://www.nps.gov/npmap/favicon.ico">
  <link href="//netdna.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.css"
  rel="stylesheet">
  <link href="../css/reveal.min.css" rel="stylesheet">
  <link href="../css/theme/nps.css" id="theme" rel="stylesheet">
  <link href="../lib/css/zenburn.css" rel="stylesheet">
  <script>
    if (window.location.search.match(/print-pdf/gi))
    {
      var link = document.createElement('link');
      link.rel = 'stylesheet';
      link.type = 'text/css';
      link.href = '../css/print/pdf.css';
      document.getElementsByTagName('head')[0].appendChild(link);
    }
  </script>
  <!--[if lt IE 9]>
    <script src="lib/js/html5shiv.js"></script>
    <![endif]-->
  <title>ASPRS Workshop</title>
</head>

<body>
  <div class="reveal">
    <div class="slides">
      <!-- EXAMPLE: Specify width/height manually. -->
      <section>
        <h2>Create a basic Leaflet map</h2>
        <h3>Create a basic HTML Container</h3>
        <!-- HTML generated using hilite.me -->
        <div style="background: #272822; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #75715e">&lt;!DOCTYPE html&gt;</span>
<span style="color: #f92672">&lt;html&gt;</span>

  <span style="color: #f92672">&lt;head&gt;</span>
    <span style="color: #f92672">&lt;title&gt;</span>
      Leaflet Demo
    <span style="color: #f92672">&lt;/title&gt;</span>
  <span style="color: #f92672">&lt;/head&gt;</span>

  <span style="color: #f92672">&lt;body&gt;</span>
  <span style="color: #f92672">&lt;/body&gt;</span>
  
<span style="color: #f92672">&lt;/html&gt;</span>
</pre>
        </div>
      </section>

      <section>
        <h2>Create a basic Leaflet map</h2>
        <h3>Include the Leaflet library CSS</h3>
        <!-- HTML generated using hilite.me -->
        <div style="background: #272822; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%">  <span style="color: #f92672">&lt;head&gt;</span>
    <span style="color: #f92672">&lt;title&gt;</span>
      Leaflet Demo
    <span style="color: #f92672">&lt;/title&gt;</span>
    <span style="color: #f92672">&lt;link</span> <span style="color: #a6e22e">rel=</span><span style="color: #e6db74">&quot;stylesheet&quot;</span> <span style="color: #a6e22e">href=</span><span style="color: #e6db74">&quot;//cdn.leafletjs.com/leaflet-0.7.3/leaflet.css&quot;</span> <span style="color: #f92672">/&gt;</span>
  <span style="color: #f92672">&lt;/head&gt;</span>
</pre>
        </div>
      </section>

      <section>
        <h2>Create a basic Leaflet map</h2>
        <h3>Include the Leaflet library JavaScript</h3>
        <!-- HTML generated using hilite.me -->
        <div style="background: #272822; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%">  <span style="color: #f92672">&lt;body&gt;</span>
    <span style="color: #f92672">&lt;script</span> <span style="color: #a6e22e">src=</span><span style="color: #e6db74">&quot;//cdn.leafletjs.com/leaflet-0.7.3/leaflet.js&quot;</span><span style="color: #f92672">&gt;&lt;/script&gt;</span>
  <span style="color: #f92672">&lt;/body&gt;</span>
</pre>
        </div>
      </section>

      <section>
        <h2>Create a basic Leaflet map</h2>
        <h3>Create a &quot;div&quot; for the map</h3>
        <!-- HTML generated using hilite.me -->
        <div style="background: #272822; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%">  <span style="color: #f92672">&lt;body&gt;</span>
    <span style="color: #f92672">&lt;div</span> <span style="color: #a6e22e">id=</span><span style="color: #e6db74">&quot;map&quot;</span><span style="color: #f92672">&gt;&lt;/div&gt;</span>
    <span style="color: #f92672">&lt;script</span> <span style="color: #a6e22e">src=</span><span style="color: #e6db74">&quot;//cdn.leafletjs.com/leaflet-0.7.3/leaflet.js&quot;</span><span style="color: #f92672">&gt;&lt;/script&gt;</span>
  <span style="color: #f92672">&lt;/body&gt;</span>
</pre>
        </div>
      </section>

      <section>
        <h2>Create a basic Leaflet map</h2>
        <h3>Style the &quot;div&quot;</h3>
        <!-- HTML generated using hilite.me -->
        <div style="background: #272822; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%">  <span style="color: #f92672">&lt;head&gt;</span>
    <span style="color: #f92672">&lt;title&gt;</span>
    Leaflet Demo
    <span style="color: #f92672">&lt;/title&gt;</span>
    <span style="color: #f92672">&lt;style&gt;</span>
      <span style="color: #f92672">body,</span>
      <span style="color: #f92672">html</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #66d9ef">height</span><span style="color: #f92672">:</span> <span style="color: #ae81ff">100</span><span style="color: #f92672">%</span><span style="color: #f8f8f2">;</span>
      <span style="color: #f8f8f2">}</span>
      <span style="color: #a6e22e">#map</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #66d9ef">width</span><span style="color: #f92672">:</span> <span style="color: #ae81ff">100</span><span style="color: #f92672">%</span><span style="color: #f8f8f2">;</span>
        <span style="color: #66d9ef">height</span><span style="color: #f92672">:</span> <span style="color: #ae81ff">100</span><span style="color: #f92672">%</span><span style="color: #f8f8f2">;</span>
     <span style="color: #f8f8f2">}</span>
    <span style="color: #f92672">&lt;/style&gt;</span>
  <span style="color: #f92672">&lt;/head&gt;</span>
</pre>
        </div>
      </section>

      <section>
        <h2>Create a basic Leaflet map</h2>
        <h3>Create a script tag</h3>
        <!-- HTML generated using hilite.me -->
        <div style="background: #272822; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%">  <span style="color: #f92672">&lt;body&gt;</span>
    <span style="color: #f92672">&lt;div</span> <span style="color: #a6e22e">id=</span><span style="color: #e6db74">&quot;map&quot;</span><span style="color: #f92672">&gt;&lt;/div&gt;</span>
    <span style="color: #f92672">&lt;script</span> <span style="color: #a6e22e">src=</span><span style="color: #e6db74">&quot;//cdn.leafletjs.com/leaflet-0.7.3/leaflet.js&quot;</span><span style="color: #f92672">&gt;&lt;/script&gt;</span>
    <span style="color: #f92672">&lt;script&gt;</span>
    
    <span style="color: #f92672">&lt;/script&gt;</span>
  <span style="color: #f92672">&lt;/body&gt;</span>
</pre>
        </div>
      </section>

      <section>
        <h2>Create a basic Leaflet map</h2>
        <h3>Create a map and assign it to the &quot;div&quot; element</h3>
        <!-- HTML generated using hilite.me -->
        <div style="background: #272822; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #66d9ef">var</span> <span style="color: #a6e22e">map</span> <span style="color: #f92672">=</span> <span style="color: #a6e22e">L</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">map</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&#39;map&#39;</span><span style="color: #f8f8f2">).</span><span style="color: #a6e22e">setView</span><span style="color: #f8f8f2">([</span><span style="color: #ae81ff">39.75</span><span style="color: #f8f8f2">,</span> <span style="color: #f92672">-</span><span style="color: #ae81ff">105</span><span style="color: #f8f8f2">],</span> <span style="color: #ae81ff">15</span><span style="color: #f8f8f2">);</span>
</pre>
        </div>
      </section>

      <section>
        <h2>Create a basic Leaflet map</h2>
        <h3>Create a tileLayer and assign it to the map</h3>
        <!-- HTML generated using hilite.me -->
        <div style="background: #272822; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #a6e22e">L</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">tileLayer</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&#39;https://{s}.tiles.mapbox.com/v3/{id}/{z}/{x}/{y}.png&#39;</span><span style="color: #f8f8f2">,</span> <span style="color: #f8f8f2">{</span>
  <span style="color: #a6e22e">maxZoom</span><span style="color: #f92672">:</span> <span style="color: #ae81ff">18</span><span style="color: #f8f8f2">,</span>
  <span style="color: #a6e22e">attribution</span><span style="color: #f92672">:</span> <span style="color: #e6db74">&quot;OpenStreetMap, Mapbox, and NPS&quot;</span><span style="color: #f8f8f2">,</span>
  <span style="color: #a6e22e">id</span><span style="color: #f92672">:</span> <span style="color: #e6db74">&#39;nps.k7chg4fe&#39;</span>
<span style="color: #f8f8f2">}).</span><span style="color: #a6e22e">addTo</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">map</span><span style="color: #f8f8f2">);</span>
</pre>
        </div>
      </section>

      <section>
        <h2>Create a basic Leaflet map</h2>
        <h3>Add a marker to the map</h3>
        <!-- HTML generated using hilite.me -->
        <div style="background: #272822; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #66d9ef">var</span> <span style="color: #a6e22e">marker</span> <span style="color: #f92672">=</span> <span style="color: #a6e22e">L</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">marker</span><span style="color: #f8f8f2">([</span><span style="color: #ae81ff">39.75</span><span style="color: #f8f8f2">,</span> <span style="color: #f92672">-</span><span style="color: #ae81ff">105</span><span style="color: #f8f8f2">]).</span><span style="color: #a6e22e">addTo</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">map</span><span style="color: #f8f8f2">);</span>
</pre>
        </div>
      </section>

      <section>
        <h2>Modify the simple map to use GeoJSON</h2>
        <h3>Add the &quot;reqwest&quot; library</h3>
        <!-- HTML generated using hilite.me -->
        <div style="background: #272822; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%">  <span style="color: #f92672">&lt;body&gt;</span>
    <span style="color: #f92672">&lt;div</span> <span style="color: #a6e22e">id=</span><span style="color: #e6db74">&quot;map&quot;</span><span style="color: #f92672">&gt;&lt;/div&gt;</span>
    <span style="color: #f92672">&lt;style</span> <span style="color: #a6e22e">src=</span><span style="color: #e6db74">&quot;//cdn.leafletjs.com/leaflet-0.7.3/leaflet.js&quot;</span><span style="color: #f92672">&gt;&lt;/script&gt;</span>
    <span style="color: #f92672">&lt;style</span> <span style="color: #a6e22e">src=</span><span style="color: #e6db74">&quot;//cdnjs.cloudflare.com/ajax/libs/reqwest/1.1.5/reqwest.min.js&quot;</span><span style="color: #f92672">&gt;&lt;/script&gt;</span>
    <span style="color: #f92672">&lt;script&gt;</span>
       <span style="color: #f8f8f2">...</span>
    <span style="color: #f92672">&lt;/script&gt;</span>
  <span style="color: #f92672">&lt;/body&gt;</span>
</pre>
        </div>
      </section>

      <section>
        <h2>Modify the simple map to use GeoJSON</h2>
        <h3>Load the GeoJSON from CartoDB</h3>
        <!-- HTML generated using hilite.me -->
        <div style="background: #272822; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #66d9ef">var</span> <span style="color: #a6e22e">geojsonLink</span> <span style="color: #f92672">=</span> <span style="color: #e6db74">&#39;https://npmap-demo-account.cartodb.com/api/v1/sql?q=select+*+from+restaurants_modified&amp;format=geojson&#39;</span><span style="color: #f8f8f2">;</span>
</pre>
        </div>
      </section>

      <section>
        <h2>Modify the simple map to use GeoJSON</h2>
        <h3>Add the GeoJSON to the map</h3>
        <!-- HTML generated using hilite.me -->
        <div style="background: #272822; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #a6e22e">reqwest</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">geojsonLink</span><span style="color: #f8f8f2">,</span> <span style="color: #66d9ef">function</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">result</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
  <span style="color: #a6e22e">L</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">geoJson</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">result</span><span style="color: #f8f8f2">).</span><span style="color: #a6e22e">addTo</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">map</span><span style="color: #f8f8f2">);</span>
<span style="color: #f8f8f2">});</span>
</pre>
        </div>
      </section>

      <section>
        <h2>Style the data</h2>
        <h3>Add a custom marker</h3>
        <!-- HTML generated using hilite.me -->
        <div style="background: #272822; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #a6e22e">reqwest</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">geojsonLink</span><span style="color: #f8f8f2">,</span> <span style="color: #66d9ef">function</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">result</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
  <span style="color: #a6e22e">L</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">geoJson</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">result</span><span style="color: #f8f8f2">,</span> <span style="color: #f8f8f2">{</span>
    <span style="color: #a6e22e">pointToLayer</span><span style="color: #f92672">:</span> <span style="color: #66d9ef">function</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">feature</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">latlng</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
      <span style="color: #66d9ef">return</span> <span style="color: #a6e22e">L</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">circleMarker</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">latlng</span><span style="color: #f8f8f2">);</span>
    <span style="color: #f8f8f2">}</span>
  <span style="color: #f8f8f2">}).</span><span style="color: #a6e22e">addTo</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">map</span><span style="color: #f8f8f2">);</span>
<span style="color: #f8f8f2">});</span>
</pre>
        </div>
      </section>

      <section>
        <h2>Style the data</h2>
        <h3>Style the marker</h3>
        <!-- HTML generated using hilite.me -->
        <div style="background: #272822; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #a6e22e">reqwest</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">geojsonLink</span><span style="color: #f8f8f2">,</span> <span style="color: #66d9ef">function</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">result</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
  <span style="color: #a6e22e">L</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">geoJson</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">result</span><span style="color: #f8f8f2">,</span> <span style="color: #f8f8f2">{</span>
    <span style="color: #a6e22e">pointToLayer</span><span style="color: #f92672">:</span> <span style="color: #66d9ef">function</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">feature</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">latlng</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
      <span style="color: #66d9ef">return</span> <span style="color: #a6e22e">L</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">circleMarker</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">latlng</span><span style="color: #f8f8f2">,</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #a6e22e">color</span><span style="color: #f92672">:</span> <span style="color: #e6db74">&#39;white&#39;</span><span style="color: #f8f8f2">,</span>
        <span style="color: #a6e22e">fillOpacity</span><span style="color: #f92672">:</span> <span style="color: #ae81ff">1</span><span style="color: #f8f8f2">,</span>
        <span style="color: #a6e22e">radius</span><span style="color: #f92672">:</span> <span style="color: #ae81ff">6</span>
      <span style="color: #f8f8f2">});</span>
    <span style="color: #f8f8f2">}</span>
  <span style="color: #f8f8f2">}).</span><span style="color: #a6e22e">addTo</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">map</span><span style="color: #f8f8f2">);</span>
<span style="color: #f8f8f2">});</span>
</pre>
        </div>
      </section>

      <section>
        <h2>Style the data</h2>
        <h3>Define the colors</h3>
        <!-- HTML generated using hilite.me -->
        <div style="background: #272822; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #66d9ef">var</span> <span style="color: #a6e22e">colors</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">{</span>
  <span style="color: #e6db74">&#39;Bar&#39;</span><span style="color: #f92672">:</span> <span style="color: #e6db74">&#39;#8e44ad&#39;</span><span style="color: #f8f8f2">,</span>
  <span style="color: #e6db74">&#39;Cafe&#39;</span><span style="color: #f92672">:</span> <span style="color: #e6db74">&#39;#e74c3c&#39;</span><span style="color: #f8f8f2">,</span>
  <span style="color: #e6db74">&#39;Pub &#39;</span><span style="color: #f92672">:</span> <span style="color: #e6db74">&#39;#16a085&#39;</span><span style="color: #f8f8f2">,</span>
  <span style="color: #e6db74">&#39;Restaurant&#39;</span><span style="color: #f92672">:</span> <span style="color: #e6db74">&#39;#f1c40f&#39;</span>
<span style="color: #f8f8f2">};</span>
</pre>
        </div>
      </section>

      <section>
        <h2>Style the data</h2>
        <h3>Link the colors</h3>
        <!-- HTML generated using hilite.me -->
        <div style="background: #272822; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #a6e22e">reqwest</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">geojsonLink</span><span style="color: #f8f8f2">,</span> <span style="color: #66d9ef">function</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">result</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
  <span style="color: #a6e22e">L</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">geoJson</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">result</span><span style="color: #f8f8f2">,</span> <span style="color: #f8f8f2">{</span>
    <span style="color: #a6e22e">pointToLayer</span><span style="color: #f92672">:</span> <span style="color: #66d9ef">function</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">feature</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">latlng</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
      <span style="color: #66d9ef">return</span> <span style="color: #a6e22e">L</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">circleMarker</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">latlng</span><span style="color: #f8f8f2">,</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #a6e22e">color</span><span style="color: #f92672">:</span> <span style="color: #e6db74">&#39;white&#39;</span><span style="color: #f8f8f2">,</span>
        <span style="color: #a6e22e">fillColor</span><span style="color: #f92672">:</span> <span style="color: #a6e22e">colors</span><span style="color: #f8f8f2">[</span><span style="color: #a6e22e">feature</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">properties</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">amenity</span><span style="color: #f8f8f2">],</span>
        <span style="color: #a6e22e">fillOpacity</span><span style="color: #f92672">:</span> <span style="color: #ae81ff">1</span><span style="color: #f8f8f2">,</span>
        <span style="color: #a6e22e">radius</span><span style="color: #f92672">:</span> <span style="color: #ae81ff">6</span>
      <span style="color: #f8f8f2">});</span>
    <span style="color: #f8f8f2">}</span>
  <span style="color: #f8f8f2">}).</span><span style="color: #a6e22e">addTo</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">map</span><span style="color: #f8f8f2">);</span>
<span style="color: #f8f8f2">});</span>
</pre>
        </div>
      </section>

      <section>
        <h2>Add popups</h2>
        <h3>Include Handlebars</h3>
        <!-- HTML generated using hilite.me -->
        <div style="background: #272822; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%">  <span style="color: #f92672">&lt;body&gt;</span>
    <span style="color: #f92672">&lt;div</span> <span style="color: #a6e22e">id=</span><span style="color: #e6db74">&quot;map&quot;</span><span style="color: #f92672">&gt;&lt;/div&gt;</span>
    <span style="color: #f92672">&lt;script</span> <span style="color: #a6e22e">src=</span><span style="color: #e6db74">&quot;//cdn.leafletjs.com/leaflet-0.7.3/leaflet.js&quot;</span><span style="color: #f92672">&gt;&lt;/script&gt;</span>
    <span style="color: #f92672">&lt;script</span> <span style="color: #a6e22e">src=</span><span style="color: #e6db74">&quot;//cdnjs.cloudflare.com/ajax/libs/reqwest/1.1.5/reqwest.min.js&quot;</span><span style="color: #f92672">&gt;&lt;/script&gt;</span>
    <span style="color: #f92672">&lt;script</span> <span style="color: #a6e22e">src=</span><span style="color: #e6db74">&quot;//cdnjs.cloudflare.com/ajax/libs/handlebars.js/2.0.0/handlebars.min.js&quot;</span><span style="color: #f92672">&gt;&lt;/script&gt;</span>
    <span style="color: #f92672">&lt;script&gt;</span>
       <span style="color: #f8f8f2">...</span>
    <span style="color: #f92672">&lt;/script&gt;</span>
  <span style="color: #f92672">&lt;/body&gt;</span>
</pre>
        </div>
      </section>

      <section>
        <h2>Add popups</h2>
        <h3>Create a function to generate the popup content</h3>
        <!-- HTML generated using hilite.me -->
        <div style="background: #272822; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #66d9ef">var</span> <span style="color: #a6e22e">popupContent</span> <span style="color: #f92672">=</span> <span style="color: #66d9ef">function</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">properties</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
  <span style="color: #66d9ef">var</span> <span style="color: #a6e22e">content</span> <span style="color: #f92672">=</span> <span style="color: #e6db74">&#39;&lt;div class=&quot;popup&quot;&gt;&#39;</span> <span style="color: #f92672">+</span>
    <span style="color: #e6db74">&#39;&lt;span class=&quot;title&quot;&gt;{{name}}&lt;/span&gt;&lt;br/&gt;&#39;</span> <span style="color: #f92672">+</span>
    <span style="color: #e6db74">&#39;{{address}}&lt;br/&gt;&#39;</span> <span style="color: #f92672">+</span>
    <span style="color: #e6db74">&#39;&lt;hr/&gt;&#39;</span> <span style="color: #f92672">+</span>
    <span style="color: #e6db74">&#39;&lt;span class=&quot;title&quot;&gt;Amenity&lt;/span&gt;: {{amenity}}&lt;br/&gt;&#39;</span> <span style="color: #f92672">+</span>
    <span style="color: #e6db74">&#39;&lt;span class=&quot;title&quot;&gt;Cuisine&lt;/span&gt;: {{cuisine}}&lt;br/&gt;&#39;</span> <span style="color: #f92672">+</span>
    <span style="color: #e6db74">&#39;&lt;span class=&quot;title&quot;&gt;Rating&lt;/span&gt;: {{rating}}&#39;</span> <span style="color: #f92672">+</span>
    <span style="color: #e6db74">&#39;&lt;/div&gt;&#39;</span><span style="color: #f8f8f2">;</span>
  <span style="color: #66d9ef">return</span> <span style="color: #a6e22e">Handlebars</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">compile</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">content</span><span style="color: #f8f8f2">)(</span><span style="color: #a6e22e">properties</span><span style="color: #f8f8f2">);</span>
<span style="color: #f8f8f2">};</span>
</pre>
        </div>
      </section>

      <section>
        <h2>Add popups</h2>
        <h3>Add an &quot;onEachFeature&quot; section</h3>
        <!-- HTML generated using hilite.me -->
        <div style="background: #272822; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #a6e22e">reqwest</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">geojsonLink</span><span style="color: #f8f8f2">,</span> <span style="color: #66d9ef">function</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">result</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
  <span style="color: #a6e22e">L</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">geoJson</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">result</span><span style="color: #f8f8f2">,</span> <span style="color: #f8f8f2">{</span>
    <span style="color: #a6e22e">pointToLayer</span><span style="color: #f92672">:</span> <span style="color: #66d9ef">function</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">feature</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">latlng</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
      <span style="color: #66d9ef">return</span> <span style="color: #a6e22e">L</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">circleMarker</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">latlng</span><span style="color: #f8f8f2">,</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #a6e22e">color</span><span style="color: #f92672">:</span> <span style="color: #e6db74">&#39;white&#39;</span><span style="color: #f8f8f2">,</span>
        <span style="color: #a6e22e">fillColor</span><span style="color: #f92672">:</span> <span style="color: #a6e22e">colors</span><span style="color: #f8f8f2">[</span><span style="color: #a6e22e">feature</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">properties</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">amenity</span><span style="color: #f8f8f2">],</span>
        <span style="color: #a6e22e">fillOpacity</span><span style="color: #f92672">:</span> <span style="color: #ae81ff">1</span><span style="color: #f8f8f2">,</span>
        <span style="color: #a6e22e">radius</span><span style="color: #f92672">:</span> <span style="color: #ae81ff">6</span>
      <span style="color: #f8f8f2">});},</span>
    <span style="color: #a6e22e">onEachFeature</span><span style="color: #f92672">:</span> <span style="color: #66d9ef">function</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">feature</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">layer</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
      <span style="color: #66d9ef">return</span> <span style="color: #a6e22e">layer</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">bindPopup</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">popupContent</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">feature</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">properties</span><span style="color: #f8f8f2">));</span>
    <span style="color: #f8f8f2">}</span>
  <span style="color: #f8f8f2">}).</span><span style="color: #a6e22e">addTo</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">map</span><span style="color: #f8f8f2">);</span>
<span style="color: #f8f8f2">});</span>
</pre>
        </div>
      </section>

      <section>
        <h2>Plugins</h2>
        <h3><a href="http://leafletjs.com/plugins.html">Leaflet plugins</a></h3>
        <h4>http://leafletjs.com/plugins.html</h4>
      </section>

      <section>
        <h2>leaflet.draw</h2>
        <h3>Add CSS link</h3>
        <!-- HTML generated using hilite.me -->
        <div style="background: #272822; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%">  <span style="color: #f92672">&lt;head&gt;</span>
    <span style="color: #f92672">&lt;title&gt;</span>
      Leaflet Demo
    <span style="color: #f92672">&lt;/title&gt;</span>
    <span style="color: #f92672">&lt;link</span> <span style="color: #a6e22e">rel=</span><span style="color: #e6db74">&quot;stylesheet&quot;</span> <span style="color: #a6e22e">href=</span><span style="color: #e6db74">&quot;//cdn.leafletjs.com/leaflet-0.7.3/leaflet.css&quot;</span> <span style="color: #f92672">/&gt;</span>
    <span style="color: #f92672">&lt;link</span> <span style="color: #a6e22e">rel=</span><span style="color: #e6db74">&quot;stylesheet&quot;</span> <span style="color: #a6e22e">href=</span><span style="color: #e6db74">&quot;//leaflet.github.io/Leaflet.draw/leaflet.draw.js&quot;</span> <span style="color: #f92672">/&gt;</span>
  <span style="color: #f92672">&lt;/head&gt;</span>
</pre>
        </div>
      </section>

      <section>
        <h2>leaflet.draw</h2>
        <h3>Add JavaScript link</h3>
        <!-- HTML generated using hilite.me -->
        <div style="background: #272822; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%">  <span style="color: #f92672">&lt;body&gt;</span>
    <span style="color: #f92672">&lt;div</span> <span style="color: #a6e22e">id=</span><span style="color: #e6db74">&quot;map&quot;</span><span style="color: #f92672">&gt;&lt;/div&gt;</span>
    <span style="color: #f92672">&lt;script</span> <span style="color: #a6e22e">src=</span><span style="color: #e6db74">&quot;//cdn.leafletjs.com/leaflet-0.7.3/leaflet.js&quot;</span><span style="color: #f92672">&gt;&lt;/script&gt;</span>
    <span style="color: #f92672">&lt;script</span> <span style="color: #a6e22e">src=</span><span style="color: #e6db74">&quot;//cdnjs.cloudflare.com/ajax/libs/reqwest/1.1.5/reqwest.min.js&quot;</span><span style="color: #f92672">&gt;&lt;/script&gt;</span>
    <span style="color: #f92672">&lt;script</span> <span style="color: #a6e22e">src=</span><span style="color: #e6db74">&quot;//cdnjs.cloudflare.com/ajax/libs/handlebars.js/2.0.0/handlebars.min.js&quot;</span><span style="color: #f92672">&gt;&lt;/script&gt;</span>
    <span style="color: #f92672">&lt;script</span> <span style="color: #a6e22e">src=</span><span style="color: #e6db74">&quot;//leaflet.github.io/Leaflet.draw/leaflet.draw.js&quot;</span><span style="color: #f92672">&gt;&lt;/script&gt;</span>
    <span style="color: #f92672">&lt;script&gt;</span>
       <span style="color: #f8f8f2">...</span>
    <span style="color: #f92672">&lt;/script&gt;</span>
  <span style="color: #f92672">&lt;/body&gt;</span>
</pre>
        </div>
      </section>

      <section>
        <h2>leaflet.draw</h2>
        <h3>Sample Code </h3>
        <!-- HTML generated using hilite.me -->
        <div style="background: #272822; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;font-size:12pt;"><pre style="margin: 0; line-height: 125%"><span style="color: #66d9ef">var</span> <span style="color: #a6e22e">drawnItems</span> <span style="color: #f92672">=</span> <span style="color: #66d9ef">new</span> <span style="color: #a6e22e">L</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">FeatureGroup</span><span style="color: #f8f8f2">();</span>
<span style="color: #a6e22e">map</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">addLayer</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">drawnItems</span><span style="color: #f8f8f2">);</span>

<span style="color: #66d9ef">var</span> <span style="color: #a6e22e">drawControl</span> <span style="color: #f92672">=</span> <span style="color: #66d9ef">new</span> <span style="color: #a6e22e">L</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">Control</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">Draw</span><span style="color: #f8f8f2">({</span>
  <span style="color: #a6e22e">draw</span><span style="color: #f92672">:</span> <span style="color: #f8f8f2">{</span>
    <span style="color: #a6e22e">position</span><span style="color: #f92672">:</span> <span style="color: #e6db74">&#39;topleft&#39;</span><span style="color: #f8f8f2">,</span>
    <span style="color: #a6e22e">polygon</span><span style="color: #f92672">:</span> <span style="color: #f8f8f2">{</span>
      <span style="color: #a6e22e">title</span><span style="color: #f92672">:</span> <span style="color: #e6db74">&#39;Draw a sexy polygon!&#39;</span><span style="color: #f8f8f2">,</span>
      <span style="color: #a6e22e">allowIntersection</span><span style="color: #f92672">:</span> <span style="color: #66d9ef">false</span><span style="color: #f8f8f2">,</span>
      <span style="color: #a6e22e">drawError</span><span style="color: #f92672">:</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #a6e22e">color</span><span style="color: #f92672">:</span> <span style="color: #e6db74">&#39;#b00b00&#39;</span><span style="color: #f8f8f2">,</span>
        <span style="color: #a6e22e">timeout</span><span style="color: #f92672">:</span> <span style="color: #ae81ff">1000</span>
      <span style="color: #f8f8f2">},</span>
      <span style="color: #a6e22e">shapeOptions</span><span style="color: #f92672">:</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #a6e22e">color</span><span style="color: #f92672">:</span> <span style="color: #e6db74">&#39;#bada55&#39;</span>
      <span style="color: #f8f8f2">},</span>
      <span style="color: #a6e22e">showArea</span><span style="color: #f92672">:</span> <span style="color: #66d9ef">true</span>
    <span style="color: #f8f8f2">},</span>
    <span style="color: #a6e22e">polyline</span><span style="color: #f92672">:</span> <span style="color: #f8f8f2">{</span>
      <span style="color: #a6e22e">metric</span><span style="color: #f92672">:</span> <span style="color: #66d9ef">false</span>
    <span style="color: #f8f8f2">},</span>
    <span style="color: #a6e22e">circle</span><span style="color: #f92672">:</span> <span style="color: #f8f8f2">{</span>
      <span style="color: #a6e22e">shapeOptions</span><span style="color: #f92672">:</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #a6e22e">color</span><span style="color: #f92672">:</span> <span style="color: #e6db74">&#39;#662d91&#39;</span>
      <span style="color: #f8f8f2">}</span>
    <span style="color: #f8f8f2">}</span>
  <span style="color: #f8f8f2">},</span>
  <span style="color: #a6e22e">edit</span><span style="color: #f92672">:</span> <span style="color: #f8f8f2">{</span>
    <span style="color: #a6e22e">featureGroup</span><span style="color: #f92672">:</span> <span style="color: #a6e22e">drawnItems</span>
  <span style="color: #f8f8f2">}</span>
<span style="color: #f8f8f2">});</span>
<span style="color: #a6e22e">map</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">addControl</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">drawControl</span><span style="color: #f8f8f2">);</span>

<span style="color: #a6e22e">map</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">on</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&#39;draw:created&#39;</span><span style="color: #f8f8f2">,</span> <span style="color: #66d9ef">function</span> <span style="color: #f8f8f2">(</span><span style="color: #a6e22e">e</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
  <span style="color: #66d9ef">var</span> <span style="color: #a6e22e">type</span> <span style="color: #f92672">=</span> <span style="color: #a6e22e">e</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">layerType</span><span style="color: #f8f8f2">,</span>
    <span style="color: #a6e22e">layer</span> <span style="color: #f92672">=</span> <span style="color: #a6e22e">e</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">layer</span><span style="color: #f8f8f2">;</span>

  <span style="color: #66d9ef">if</span> <span style="color: #f8f8f2">(</span><span style="color: #a6e22e">type</span> <span style="color: #f92672">===</span> <span style="color: #e6db74">&#39;marker&#39;</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
    <span style="color: #a6e22e">layer</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">bindPopup</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&#39;A popup!&#39;</span><span style="color: #f8f8f2">);</span>
  <span style="color: #f8f8f2">}</span>

  <span style="color: #a6e22e">drawnItems</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">addLayer</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">layer</span><span style="color: #f8f8f2">);</span>
<span style="color: #f8f8f2">});</span>
</pre>
      </section>
      </div>
    </div>
  </div>

  <script src="../js/head.min.js"></script>
  <script src="../js/reveal.js"></script>
  <script>
    Reveal.initialize(
    {
      center: false,
      controls: true,
      height: 700,
      history: true,
      overview: false,
      progress: true,
      theme: Reveal.getQueryHash().theme || 'nps',
      transition: Reveal.getQueryHash().transition || 'linear',
      width: 1100
    });
  </script>
  <script>
    (function(i, s, o, g, r, a, m)
    {
      i['GoogleAnalyticsObject'] = r;
      i[r] = i[r] || function()
      {
        (i[r].q = i[r].q || []).push(arguments)
      }, i[r].l = 1 * new Date();
      a = s.createElement(o), m = s.getElementsByTagName(o)[0];
      a.async = 1;
      a.src = g;
      m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js',
      'ga');
    ga('create', 'UA-30639876-1', 'nps.gov');
    ga('send', 'pageview');
  </script>
</body>

</html>
